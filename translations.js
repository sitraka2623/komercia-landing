// Translations for Komercia Landing Page
const translations = {
    fr: {
        nav: {
            features: "FonctionnalitÃ©s",
            howItWorks: "Comment Ã§a marche",
            pricing: "Tarifs",
            contact: "Contact",
            login: "Connexion",
            start: "Commencer"
        },
        hero: {
            title: "Digitalisez votre commerce Ã ",
            description: "La premiÃ¨re plateforme PWA qui connecte les commerÃ§ants malgaches avec leurs clients. Vendez en ligne, gÃ©rez vos stocks et acceptez les paiements Mobile Money facilement.",
            createStore: "CrÃ©er ma boutique",
            discoverProducts: "DÃ©couvrir les produits",
            merchants: "CommerÃ§ants",
            products: "Produits",
            customers: "Clients"
        },
        features: {
            title: "Tout ce dont vous avez besoin",
            subtitle: "Une plateforme complÃ¨te pour dÃ©velopper votre activitÃ©",
            onlineStore: {
                title: "Boutique en ligne",
                description: "CrÃ©ez votre vitrine digitale en quelques minutes. Ajoutez vos produits, photos et descriptions facilement."
            },
            payments: {
                title: "Paiements Mobile Money",
                description: "Acceptez MVola, Orange Money et Airtel Money. Transactions sÃ©curisÃ©es et instantanÃ©es."
            },
            geolocation: {
                title: "GÃ©olocalisation",
                description: "Les clients trouvent facilement votre commerce. Affichez votre position sur la carte interactive."
            },
            inventory: {
                title: "Gestion des stocks",
                description: "Suivez vos inventaires en temps rÃ©el. Recevez des alertes pour les produits en rupture de stock."
            },
            ai: {
                title: "Intelligence Artificielle",
                description: "Recommandations personnalisÃ©es pour vos clients. Analyses prÃ©dictives pour optimiser vos ventes."
            },
            offline: {
                title: "Mode Offline",
                description: "Fonctionne mÃªme sans connexion internet. Synchronisation automatique dÃ¨s que vous Ãªtes en ligne."
            }
        },
        howItWorks: {
            title: "Comment Ã§a marche ?",
            subtitle: "Lancez votre boutique en 3 Ã©tapes simples",
            step1: {
                title: "Inscrivez-vous",
                description: "CrÃ©ez votre compte commerÃ§ant gratuitement. Renseignez les informations de votre entreprise."
            },
            step2: {
                title: "Ajoutez vos produits",
                description: "Uploadez vos articles avec photos, descriptions et prix. Organisez-les par catÃ©gories."
            },
            step3: {
                title: "Commencez Ã  vendre",
                description: "Recevez des commandes, gÃ©rez les paiements et dÃ©veloppez votre clientÃ¨le en ligne."
            }
        },
        pricing: {
            title: "Tarifs transparents",
            subtitle: "Choisissez le plan adaptÃ© Ã  votre activitÃ©",
            perMonth: "/mois",
            popular: "Populaire",
            free: {
                title: "Gratuit",
                feature1: "âœ“ Jusqu'Ã  20 produits",
                feature2: "âœ“ Paiements Mobile Money",
                feature3: "âœ“ GÃ©olocalisation",
                feature4: "âœ“ Support par email",
                feature5: "âœ— Analyses avancÃ©es",
                feature6: "âœ— IA personnalisÃ©e",
                button: "Commencer"
            },
            pro: {
                title: "Pro",
                feature1: "âœ“ Produits illimitÃ©s",
                feature2: "âœ“ Paiements Mobile Money",
                feature3: "âœ“ GÃ©olocalisation avancÃ©e",
                feature4: "âœ“ Support prioritaire",
                feature5: "âœ“ Analyses dÃ©taillÃ©es",
                feature6: "âœ“ Recommandations IA",
                button: "Essayer gratuitement"
            },
            enterprise: {
                title: "Entreprise",
                price: "Sur mesure",
                feature1: "âœ“ Tout du plan Pro",
                feature2: "âœ“ Multi-boutiques",
                feature3: "âœ“ API personnalisÃ©e",
                feature4: "âœ“ Support dÃ©diÃ© 24/7",
                feature5: "âœ“ Formation sur site",
                feature6: "âœ“ IntÃ©grations avancÃ©es",
                button: "Nous contacter"
            }
        },
        cta: {
            title: "PrÃªt Ã  digitaliser votre commerce ?",
            description: "Rejoignez des centaines de commerÃ§ants malgaches qui ont dÃ©jÃ  fait le choix du digital",
            button: "CrÃ©er ma boutique gratuitement"
        },
        footer: {
            description: "La plateforme qui digitalise les commerces locaux Ã  Madagascar",
            rights: "Tous droits rÃ©servÃ©s",
            product: {
                title: "Produit",
                features: "FonctionnalitÃ©s",
                pricing: "Tarifs",
                docs: "Documentation"
            },
            company: {
                title: "Entreprise",
                about: "Ã€ propos",
                blog: "Blog",
                careers: "CarriÃ¨res",
                contact: "Contact"
            },
            legal: {
                title: "LÃ©gal",
                privacy: "ConfidentialitÃ©",
                terms: "Conditions",
                mentions: "Mentions lÃ©gales"
            }
        }
    },
    en: {
        nav: {
            features: "Features",
            howItWorks: "How it works",
            pricing: "Pricing",
            contact: "Contact",
            login: "Login",
            start: "Get Started"
        },
        hero: {
            title: "Digitize your business in",
            description: "The first PWA platform connecting Malagasy merchants with their customers. Sell online, manage inventory, and accept Mobile Money payments easily.",
            createStore: "Create my store",
            discoverProducts: "Discover products",
            merchants: "Merchants",
            products: "Products",
            customers: "Customers"
        },
        features: {
            title: "Everything you need",
            subtitle: "A complete platform to grow your business",
            onlineStore: {
                title: "Online Store",
                description: "Create your digital storefront in minutes. Add your products, photos, and descriptions easily."
            },
            payments: {
                title: "Mobile Money Payments",
                description: "Accept MVola, Orange Money, and Airtel Money. Secure and instant transactions."
            },
            geolocation: {
                title: "Geolocation",
                description: "Customers easily find your business. Display your location on the interactive map."
            },
            inventory: {
                title: "Inventory Management",
                description: "Track your inventory in real-time. Receive alerts for out-of-stock products."
            },
            ai: {
                title: "Artificial Intelligence",
                description: "Personalized recommendations for your customers. Predictive analytics to optimize your sales."
            },
            offline: {
                title: "Offline Mode",
                description: "Works even without internet connection. Automatic synchronization when you're back online."
            }
        },
        howItWorks: {
            title: "How does it work?",
            subtitle: "Launch your store in 3 simple steps",
            step1: {
                title: "Sign up",
                description: "Create your merchant account for free. Enter your business information."
            },
            step2: {
                title: "Add your products",
                description: "Upload your items with photos, descriptions, and prices. Organize them by categories."
            },
            step3: {
                title: "Start selling",
                description: "Receive orders, manage payments, and grow your customer base online."
            }
        },
        pricing: {
            title: "Transparent pricing",
            subtitle: "Choose the plan that fits your business",
            perMonth: "/month",
            popular: "Popular",
            free: {
                title: "Free",
                feature1: "âœ“ Up to 20 products",
                feature2: "âœ“ Mobile Money payments",
                feature3: "âœ“ Geolocation",
                feature4: "âœ“ Email support",
                feature5: "âœ— Advanced analytics",
                feature6: "âœ— Personalized AI",
                button: "Get Started"
            },
            pro: {
                title: "Pro",
                feature1: "âœ“ Unlimited products",
                feature2: "âœ“ Mobile Money payments",
                feature3: "âœ“ Advanced geolocation",
                feature4: "âœ“ Priority support",
                feature5: "âœ“ Detailed analytics",
                feature6: "âœ“ AI recommendations",
                button: "Try for free"
            },
            enterprise: {
                title: "Enterprise",
                price: "Custom",
                feature1: "âœ“ Everything in Pro",
                feature2: "âœ“ Multi-stores",
                feature3: "âœ“ Custom API",
                feature4: "âœ“ Dedicated 24/7 support",
                feature5: "âœ“ On-site training",
                feature6: "âœ“ Advanced integrations",
                button: "Contact us"
            }
        },
        cta: {
            title: "Ready to digitize your business?",
            description: "Join hundreds of Malagasy merchants who have already chosen digital",
            button: "Create my store for free"
        },
        footer: {
            description: "The platform that digitizes local businesses in Madagascar",
            rights: "All rights reserved",
            product: {
                title: "Product",
                features: "Features",
                pricing: "Pricing",
                docs: "Documentation"
            },
            company: {
                title: "Company",
                about: "About",
                blog: "Blog",
                careers: "Careers",
                contact: "Contact"
            },
            legal: {
                title: "Legal",
                privacy: "Privacy",
                terms: "Terms",
                mentions: "Legal notices"
            }
        }
    }
};

// Get nested translation value
function getNestedTranslation(obj, path) {
    return path.split('.').reduce((current, key) => current?.[key], obj);
}

// Change language function
function changeLanguage(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = getNestedTranslation(translations[lang], key);
        
        if (translation) {
            element.textContent = translation;
        }
    });
    
    // Update language switcher
    const languageSwitcher = document.getElementById('languageSwitcher');
    if (languageSwitcher) {
        const flag = languageSwitcher.querySelector('.flag');
        
        if (lang === 'fr') {
            flag.textContent = 'ðŸ‡«ðŸ‡·';
            languageSwitcher.setAttribute('title', 'Switch to English');
        } else {
            flag.textContent = 'ðŸ‡¬ðŸ‡§';
            languageSwitcher.setAttribute('title', 'Passer en franÃ§ais');
        }
    }
    
    // Save preference
    localStorage.setItem('preferredLanguage', lang);
    document.documentElement.setAttribute('lang', lang);
}

// Initialize language
function initLanguage() {
    const savedLang = localStorage.getItem('preferredLanguage') || 'fr';
    changeLanguage(savedLang);
}

// Export for use in other scripts
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { translations, changeLanguage, initLanguage };
}
